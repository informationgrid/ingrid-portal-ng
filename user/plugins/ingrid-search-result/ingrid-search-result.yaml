enabled: true
mocking: false
ingrid_api_url: 'http://host.docker.internal:9910/'
hit_search:
  hits_num: 10
  facet_config: [
    {
      "id": "type",
      "queries": {
        "www": {
          "query": {
            "filter": {
              "term": {
                "datatype": "www"
              }
            }
          },
        },
        "metadata": {
          "query": {
            "filter": {
              "term": {
                "datatype": "metadata"
              }
            }
          },
          search: "datatype:metadata"
        },
        "inspire": {
          "query": {
            "filter": {
              "term": {
                "t04_search.searchterm": "inspireidentifiziert"
              }
            }
          },
        },
        "opendata": {
          "query": {
            "filter": {
              "bool": {
                "should": [
                  {
                    "term": {
                      "t04_search.searchterm": "opendata"
                    }
                  },
                  {
                    "term": {
                      "t04_search.searchterm": "opendataident"
                    }
                  }
                ]
              }
            }
          },
        },
        "hvd": {
          "query": {
            "filter": {
              "term": {
                "is_hvd": "true"
              }
            }
          },
        },
        "maps": {
          "query": {
            "filter": {
              "wildcard": {
                "capabilities_url": "http*"
              }
            }
          },
        },
        "address": {
          "query": {
            "filter": {
              "term": {
                "datatype": "address"
              }
            }
          },
        },
      }
    },
    {
      "id": "metadata_group",
      "openBy": {
        "type": "metadata",
      },
      "codelist": "8000",
      "query": {
        "terms": {
          "field": "t01_object.obj_class",
          "exclude": "1000",
          "min_doc_count": 0
        }
      },
    },
    {
      "id": "modtime",
      "dependency": {
        "type": "metadata",
        "metadata_group": "",
      },
      "queries": {
        "lastMonth": {
          "query": {
            "filter": {
              "range": {
                "modified": {
                  "gte": "now-1M"
                }
              }
            }
          }
        },
        "lastThreeMonth": {
          "query": {
            "filter": {
              "range": {
                "modified": {
                  "gte": "now-3M"
                }
              }
            }
          }
        },
        "lastYear": {
          "query": {
            "filter": {
              "range": {
                "modified": {
                  "gte": "now-1y"
                }
              }
            }
          }
        },
        "lastFiveYears": {
          "query": {
            "filter": {
              "range": {
                "modified": {
                  "gte": "now-5y"
                }
              }
            }
          }
        },
        "olderFiveYears": {
          "query": {
            "filter": {
              "range": {
                "modified": {
                  "lte": "now-5y"
                }
              }
            }
          }
        }
      }
    },
    {
      "id": "partner",
      "codelist": "110",
      "query": {
        "terms": {
          "field": "partner",
          "min_doc_count": 0
        }
      },
    },
    {
      "id": "bbox",
      "filter": "{\"range\": {\"x1\": {\"gte\": %f}}}, {\"range\": {\"y1\": {\"gte\": %f}}}, {\"range\": {\"x2\": {\"lte\": %f}}}, {\"range\": {\"y2\": {\"lte\": %f}}}"
    }
  ]
  exclude_from_search:
    - "isfolder:true"
  query_fields:
    - title^10.0
    - title.edge_ngram^4.0
    - title.ngram^2.0
    - summary
    - summary.edge_ngram^0.4
    - summary.ngram^0.2
    - content^0.2
    - content.ngram^0.1
  query_string_operator: AND
categories:
  facet_config: [
    {
      "id": "type",
      "queries": {
        "www": {
          "icon": "ic-www",
          "query": {
            "filter": {
              "term": {
                "datatype": "www"
              }
            }
          },
        },
        "metadata": {
          "icon": "ic-metadata",
          "query": {
            "filter": {
              "term": {
                "datatype": "metadata"
              }
            }
          },
          search: "datatype:metadata"
        },
        "inspire": {
          "icon": "ic-inspire",
          "query": {
            "filter": {
              "term": {
                "t04_search.searchterm": "inspireidentifiziert"
              }
            }
          },
        },
        "opendata": {
          "icon": "ic-opendata",
          "query": {
            "filter": {
              "bool": {
                "should": [
                  {
                    "term": {
                      "t04_search.searchterm": "opendata"
                    }
                  },
                  {
                    "term": {
                      "t04_search.searchterm": "opendataident"
                    }
                  }
                ]
              }
            }
          },
        },
        "maps": {
          "icon": "ic-map",
          "query": {
            "filter": {
              "wildcard": {
                "capabilities_url": "http*"
              }
            }
          },
        },
      }
    }
  ]
  exclude_from_search:
    - "isfolder:true"